<ion-header>
  <ion-navbar color="light">
    <ion-buttons start>
      <button ion-button menuToggle>
        <ion-icon name='menu'></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>
      Agenda de séries
    </ion-title>
    <ion-buttons end>
      <button icon-only ion-button (click)="goToSearch()">
        <ion-icon name='search'></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
    
    <h3 text-center class="opaque">Assistir agora</h3>
    <ion-row *ngIf="paraAssistir.length > 0">
      <ion-col 
        *ngFor='let s of paraAssistir'
        (click)="detailPage(s)"
        row-no-padding no-padding 
        col-12 col-sm-12 col-md-6 col-lg-4 col-xl-3>
        <ion-card>
          <div class="card-cover-background card-image-box" [style.background]="s.next_episode_to_watch.image"></div>
          <div style="padding: 6px;">
            <h3><b>{{s.name}} - {{s.next_episode_to_watch.label}}</b></h3>
            <h4>{{s.next_episode_to_watch.name}}
              <small class="opaque">
                No ar em {{s.next_episode_to_watch.air_date | date:'dd/MM/yyyy'}}
              </small>
            </h4>
          </div>
        </ion-card>
      </ion-col>
    </ion-row>
    <div *ngIf="paraAssistir.length <= 0" text-center>Nenhuma série para assistir agora :(</div>

    <div *ngIf="taPraSair.length > 0">
      <h3 text-center class="opaque">Tá pra sair</h3>
      <ion-row>
        <ion-col 
          *ngFor='let s of taPraSair'
          (click)="detailPage(s)"
          row-no-padding no-padding 
          text-center
          col-4 col-sm-3 col-md-3 col-lg-2 col-xl-1>
          <span *ngIf="s.next_episode_on_air">
            {{s.next_episode_on_air.air_date | date:'dd/MM/yyyy'}}
          </span>
          <img width="100px" [src]="s.poster_path" style="display: inline-block;" />
          <span *ngIf="s.next_episode_on_air">
            <span class="opaque">{{s.next_episode_on_air.label}}</span>
          </span>
        </ion-col>
      </ion-row>
    </div>

    <div *ngIf="outras.length > 0">
      <h3 text-center class="opaque">Outras séries</h3>
      <ion-row>
        <ion-col 
          *ngFor='let s of outras'
          (click)="detailPage(s)"
          row-no-padding no-padding 
          col-4 col-sm-3 col-md-3 col-lg-2 col-xl-1>
            <img [src]="s.poster_path" />
        </ion-col>
      </ion-row>
    </div>
    
  
</ion-content>